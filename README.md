# WiFiLamp «Javelin»
(UA) Прошивка для WiFi лампи «Javelin» та кросплатформне програмне забезпечення для керування лампами
------------------------------------------------------------------------------------------
(EN) Firmware for WiFi Lamp «Javelin» and cross-platform lamp management software
------------------------------------------------------------------------------------------
(RU) Прошивка для WiFi лампы «Javelin» и кроссплатформенное программное обеспечение для управления лампами
------------------------------------------------------------------------------------------
# (EN) 
This is a further development of the WiFi Lamp Remote Control project,
I have added some features to the design of the lamp to give it a unique touch.
Unfortunately, this was caused by the aggression of the Russian Federation against Ukraine, this situation affected the software, it is focused on the inhabitants of Ukraine, and the entire civilized world that supported us, with the exception of the russian federation.
They have no forgiveness for the grief they brought to my country, my beloved city and home.

The firmware can be standard or extended (Javelin).
If you want to replicate my lamp design with something of your own, it's a creative process that helps me survive the war.
While the firmware is only standard, over time I will post drawings and diagrams, as soon as I fully debug the circuit and software, unfortunately the war breaks the usual way of life.
You can follow the development process on my YouTube channel SlingMasterJSC

I would like to thank everyone who has supported us during this difficult time. Happy use.
If anyone wants to support the project
# donations to support the Armed Forces of Ukraine
can be sent directly from the web page https://bank.gov.ua/ua/about/support-the-armed-forces (multi-currency account)

# (UA) 
Це подальший розвиток проекту WiFi Lamp Remote Control,
я зробив деякі особливості в конструкцію лампи, щоб надати їй унікальні риси.
На жаль, це було викликано агресією мордору проти України, ця ситуація позначилася на програмному забезпеченні, воно орієнтоване на жителів України, і всього цивілізованого світу, який нас підтримав за винятком Росії.
Їм немає прощення за те горе, яке вони принесли до моєї країни, мого улюбленого міста та мого дому.

Прошивка може бути стандартною або розширеною (Javelin).
Якщо захочете повторити мою конструкцію лампи, додавши щось своє, це творчий процес який допомагає мені пережити війну.
Поки прошивка тільки стандартна, з часом я викладу креслення та схеми, як тільки повністю налагоджу схему та ПЗ, на жаль війна ламає звичний спосіб життя.
процес розробки можна відстежувати на моєму каналі YouTube SlingMasterJSC

Висловлюю подяку всім, хто нас підтримав у важкий для нас час. Приємного використання.
Якщо у когось виникне бажання заохотити проект
# Донати для підтримки Збройних Сил України
можна надіслати прямо з web сторінки https://bank.gov.ua/ua/about/support-the-armed-forces (рахунок мульти валютний)

# (RU) 
Это дальнейшее развитие проекта WiFi Lamp Remote Control,
я внес некоторые особенности в конструкцию лампы, чтобы придать ей уникальные черты.
К сожалению это было вызвано агресией мордора против Украины, эта ситтуация отразилась на программном обеспечении, оно ориентировано на жителей Украины, и всего цивилизованого мира который нас поддержал за исключением рф. 
Им нет прощения за то горе, которое они принесли в мою страну, мой любимый город и дом.

Прошивка может быть стандарной или расширенной (Javelin). 
Если захотите повторить мою конструкцию лампы добавив чтото свое, это творческий поцесс который помогает мне пережить войну. 
Пока прошивка только стандартая, со временем я выложу чертежи и схемы, как только полностью отлажу схему и ПО, к сожалению война ломает привычный образ жизни.
процесс разработки можно отслеживать на моем YouTube канале SlingMasterJSC

Выражаю благодарность всем кто нас поддержал в тяжелое для нас время. Приятного использования.
Если у кого то возникнет желание поощрить проект 
# донаты для поддержки Вооруженных Сил Украины 
можно отправить прямо с web страницы https://bank.gov.ua/ua/about/support-the-armed-forces (счет мульти валютный)

------------------------------------------------------------------------------------------	
# Возможности программного обеспечения
1. Кросплатформенное управление настройкой лампы и режимами по WiFi. 
	* управлеие лампой когда она в режиме точки доступа только под Windows и Android (SDK 23 - 30 | Android 6 - Android 11).
2. Объединение в группу и управление группой ламп в один клик.
3. Удобный интерфейс приложения ориентирован как для простых пользователей так и разработчиков.

# Действия сенсорной кнопки для этой прошивки:
	• однократный клик – включение или выключение светильника;
	• двукратный клик – следующий эффект;
	• трёхкратный клик – предыдущий эффект;
	• четырёхкратный клик – запуск воспроизведения эффеков в цикле;
	• пятикратный клик – запуск эффекта огонь (интимная обстановка);
	• шестикратный клик – запуск таймера выключения лампы через 5 минут;
	• семикратный клик – смена рабочего режима лампы: с WiFi точки доступа на WiFi клиент или наоборот;
	• удержание – увеличение или уменьшение "яркости";
	• однократный клик и удержание – увеличение или уменьшение «скорости»;
	• двукратный клик и удержание –  увеличение или уменьшение «масштаба»;
	• удержание при выключенной лампе – включает эффект «Белый Свет»;
	
------------------------------------------------------------------------------------------	
* в файле button.ino есть закомментированы альтернативы поведения которые вы можете настроить по своему вкусу.




# Останні зміни :
1.Додана схема лампы, та розпайка монтажної платы:
------------------------------------------------------------------------------------------

# Програмне забезпечення для Android та Windows
# Версія 3.0 
1. Android • RemoteControlForAndroid/WiFi Lamp Remote 3.1.0.39.apk
2. Windows • RemoteControlForWindows (не потребує встановлення, для запуску выкористовуйте WiFiLamp Remote.exe)
3. OS або браузер через посилання http://winecard.ltd.ua/dev/WifiLampRemote3/?ip=192.168.1.1&dev=1&timeout=200&sound=1

* програмне забезпечення сумісне з попередніми версіями моїх прошивок.
------------------------------------------------------------------------------------------	

* в майбутньому я додам нову прошивку зі схемами «WiFi Lamp Javelin» в якому я планую деякі зміни в конструкії лампи (наступне оновлення буде підримувати попередні лампи і буде додано новий функціонал, все це зараз в розробці)
Нажаль війна не дає можливості займатись більше новим проектом, але після перемоги обов'язково цей проект буде виконано. 
Слідкуйте я тут згодом додам схеми, креслення та програмне забезпечення, якщо ви захочете відновити копію лампи. 

------------------------------------------------------------------------------------------



------------------------------------------------------------------------------------------
# Инструкции по установке
• Схема подключения с распиновкой чипов находится в директории Schemes

Распакуйте содержимое архива в корневую папку на диске (не на рабочий стол, пожалуйста) и делайте всё так же, как показал Алекс Гайвер в своём видео https://youtu.be/771-Okf0dYs?t=525. Отличие от видео - матрицу подключаем к D3 и кнопку питаем от 3,3 вольта. В архиве есть файл "ПРОЧТИ МЕНЯ!!.txt. Его нужно внимательно прочитать. Для загрузки файлов из папки data в файловую систему контролера нужно установить Uploader. Видео https://esp8266-arduinoide.ru/esp8266fs/ Версию платы в "Менеджере плат" выбирайте 2.7.4. При первом запуске лампа создаст свою WiFi сеть с именем LedLamp пароль у этой сети при первом запуске будет 31415926. После подключения к сети LedLamp наберите в браузере 192.168.4.1 и зайдите на web страницу лампы. Там можно изменить имя лампы (если их несколько в сети)Перезагрузить лампу. 
Чаще всего изменяемые константы перенесены в файл ConstantsUser.h как правило этого будет достаточно, если чегото не нашли смотрите смотрите Constants.h там находятся остальные параметры (там по-русски, без проблем разберётесь) и в файле data/config.json (там можно ничего не менять, всё меняется потом с web страницы лампы). Но если хотите, чтобы лампа сразу подключилась к Вашей WiFi сети, введите в файле data/cofig.json в поля "ssid": и "password": имя и пароль Вашей WiFi сети, соответственно. Поле "ESP_mode": измените с 0 на 1. Сохраните файл на то же место и сделайте upload файловой системы. Лампа сразу подключется к Вашей сети. Остальные настройки можно сделать из приложения под Windows, Android или прямо из любого браузера перейдя по ссылке http://winecard.ltd.ua/dev/WifiLampRemote3/?ip=192.168.1.1&dev=1&timeout=200&sound=1

Рекомендуем создать на уровне папки Firmware папку Custom она записана в Git ignore в которой будет еще директории по количеству ваших ламп к примеру EVA и Adam в которых будут хранится настройки для вашей конкретной лампы это файл ConstantsUser.h вы обновляете с гита прошивку закидываете туда свой файл ConstantsUser.h и можно шиться, при обновлении прошивок будете только менять настройки для нужной лампы

Поддерживает файловые системы SPIFFS и LittleFS	(по умолчанию SPIFFS)

Тем, у кого лампа уже собрана и нет возможности (или сложно) добраться до разъёма для перепрошивки, можно прошиться по ОТА. Для этого нужно использовать WEB_Updater. В папке есть файл Readme.txt. Внимательно его прочитайте

В данной прошивке режим работы ESP_MODE 1 (с роутером) или ESP_MODE 0 (без (точка доступа)) . В любой момент его можно будет поменять, либо он сам изменится.
	
------------------------------------------------------------------------------------------

Change Log	

------------------------------------------------------------------------------------------

# ПРЕДЫДУЩИЕ ВЕРСИИ • 3.XX

* Скетч використовує 571 056 байт (54%) пам'яті пристрою. Усього доступно 1044464 байт.
Глобальні змінні використовують 47 636 байт (58%) динамічної пам'яті, залишаючи 34 284 байт для локальних змінних. Максимум: 81 920 байт.
